<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Superfeedr : Digest and Heartbeat notifications </title>
  <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
  <meta name="google-site-verification" content="ofroHQ3qXBS1SQfblK9-U_oduGZ975Bb3i_uP13Myao" />

  <!-- Stylesheets -->
  <link href="http://yui.yahooapis.com/3.1.1/build/cssreset/reset-min.css" media="screen" rel="stylesheet" type="text/css" />
  <link href="http://superfeedr.com/stylesheets/superfeedr.css" media="screen" rel="stylesheet" type="text/css" />
  <link href="http://superfeedr.com/stylesheets/print.css" media="print" rel="stylesheet" type="text/css" />
  <link href="http://superfeedr.com/stylesheets/shjs/sh_nedit.min.css" media="screen" rel="stylesheet" type="text/css" />
  <link href="http://superfeedr.com/stylesheets/thickbox.css" media="screen" rel="stylesheet" type="text/css" />
  <link href="/css/blog.css" media="screen" rel="stylesheet" type="text/css" />
  <link rel="alternate" type="application/atom+xml" title="Atom Feed" href="/atom.xml">

 </head>

 <body class="blog">
   <div id="bg">
     <div id="wrapper">
      <div id="logo">
       <a href="http://superfeedr.com" class="home"><img alt="Superfeedr" src="http://superfeedr.com/images/superfeedr_complete.png" /></a>
     </div>
     <ul id="navigation">
      <li><a href="http://documentation.superfeedr.com" alt="RTFM">Documentation</a></li>
      <li><a href="http://superfeedr.com/about" alt="All you wanted to know. Almost">About</a></li>
    </ul>
    <div class="clear"></div>
    <div id="main_bg">
      <div id="main_top">
       <h1>Digest and Heartbeat notifications</h1>
     </div> <!--main_top-->

     <div id="content">
        <div id="post">
    <h2>Digest and Heartbeat notifications</h2>
    <div style="color:#666; font-size:0.9em; margin-bottom: 20px"><img style="float:left; margin: -2px 3px 3px 0px" src="http://www.gravatar.com/avatar/b30ce50678f0e934eaa6697425c59dd7?s=20" >By <a href="http://ouvre-boite.com">Julien</a>, on 13 May 2010</div>
<p>One of the most common problem of all Publish-Subscribe pattern is that they <strong>fail silently</strong>.</p>
<p>Since the subscriber will always wait for the publisher (or the hub) to send him data, when a subscriber doesn&#8217;t receive new data <em>it will assume that none was sent</em>. Unfortunately, there could be other reasons : the publisher may be gone (or the hub), the subscription may be lost (or have expired), the connection between the 2 might have been flaky for some time&#8230; etc.</p>
<p>Here is a new feature which should help subscribers gain confidence : <strong>digest notifications</strong>. They server 2 purposes :</p>
<ul>
	<li><strong>Heartbeat</strong> : guarantee the subscriber that at least once day, we&#8217;ll notify it. No matter what happens, the subscriber will get a notification. It might be empty (if no entry was ever published on that feed).</li>
</ul>
<ul>
	<li><strong>Digest</strong> : the notification will include at most 10 entries (the last 10 entries published in it). This will allow the subscriber to check whether he got all the notifications or if he missed one.</li>
</ul>
<h3>Subscribing</h3>
<h4><span class="caps">XMPP</span> <span class="caps">API</span></h4>
<p>It&#8217;s as easy as adding a <code>digest=true</code> element in the subscribe element of the subscribe stanza. This element belongs to the <em>superfeedr namespace</em> for compatibility with any <span class="caps">XMPP</span> client.</p>
<script src="http://gist.github.com/399627.js?file=gistfile1.xml"></script><p>Also, remember that you can setup your <span class="caps">XMPP</span> settings so you can get notifications every time we fetch a feed on your behalf, whether there were new entries or not. (see your Settings)</p>
<h4>PubSubHubbub <span class="caps">API</span></h4>
<p>Upon subscription, just provide an extra <span class="caps">HTTP</span> Post param like this <code>superfeedr.digest=true</code>.</p>
<p>Please note that you&#8217;ll need to re-subscribe any existing subscription for the digest to be taken into account.</p>
<h3>What next?</h3>
<p>Once you&#8217;re subscribed with a digest, you can expect a notification at least once every 24 hours. Please, note that this won&#8217;t be a fixed time of the day, and will not be 24 hours after your subscription.</p>
<h4><span class="caps">XMPP</span> <span class="caps">API</span></h4>
<p>If this is a digest, the <span class="caps">XMPP</span> notification will include a digest flag in the <code>status</code> node.</p>
<script src="http://gist.github.com/399628.js?file=gistfile1.xml"></script><h4>PubSubHubbub <span class="caps">API</span></h4>
<p>The notification will just have a digest attribute within the <code>feed</code> node of the body. This attribute belongs to the superfeedr namespace.</p>
<script src="http://gist.github.com/399630.js?file=gistfile1.xml"></script><h3>Credits</h3>
<p>This extension works for both the <a href="http://superfeedr.com/publisher">public hosted hubs</a> and the default <a href="http://push.superfeedr.com/">pubsubhubbub hub</a> (works with any feed).</p>
<p>Superfeedr is still in Beta, but when we&#8217;ll get out of it, we will start counting credits for each notification we send (not for the hosted hubs). <strong>The digest notification will count as 1 credit too</strong>.</p>
<p>As some of you requested (and may have guessed), we will <strong>soon</strong> allow a &#8220;<span class="caps">GET</span>&#8221; on both APIs so you can retrieve the content of any feed at any time. We&#8217;re still finalizing a few details to make sure we&#8217;re doing things right and are not being polled on behalf of publishers!</p>
<p><small>This is still an alpha feature. Please bear with us for a small period as we make sure this all scales as expected. As you may guess it&#8217;s not easy to store 20M entries daily.</small></p>
</div>

<blockquote>
  <p>Liked this post? <input type="button" onclick="(function(){var z=document.createElement('script');z.src='http://www.subtome.com/load.js';document.body.appendChild(z);})()" value="Follow this blog!" /> to get more or read the <a href="/archive.html">archive</a>.</p>
</blockquote>


<small class="meta">
  <a href='http://www.google.com/search?q=pubsubhubbub+site:blog.superfeedr.com'>pubsubhubbub</a>, 
  
  <a href='http://www.google.com/search?q=pubsub+site:blog.superfeedr.com'>pubsub</a>, 
  
  <a href='http://www.google.com/search?q=digest+site:blog.superfeedr.com'>digest</a>, 
  
  <a href='http://www.google.com/search?q=heartbeat+site:blog.superfeedr.com'>heartbeat</a>
  
</small>

<div id="comments">
    <h2>Comments</h2>
    <div id="disqus_thread">
    </div>
    <script type="text/javascript" src="http://disqus.com/forums/superfeedr-thoughts/embed.js"></script>
    <noscript>
        <a href="http://superfeedr-thoughts.disqus.com/?url=ref">View the discussion thread.</a>
    </noscript>
    <a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>
</div>

    </div> <!--content-->

    <div id="footer">
      <ul id="footer_navigation">
        <li><a href="http://documentation.superfeedr.com">Docs</a></li>
        <li><a href="https://github.com/superfeedr/documentation/issues">Support</a></li>
        <li><a href="http://blog.superfeedr.com">Blog</a></li>
        <li><a href="https://superfeedr.com/cost">Pricing</a></li>
        <li><a href="https://superfeedr.com/terms">Terms</a></li>
      </ul>
    </div>
    <div id="log" style="" ></div>
  </div> <!--main_bg-->
</div><!--wrapper-->
</div><!--bg-->
<script type="text/javascript">
  var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
  document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
  <!--//--><![CDATA[//><!--
  try {
      var pageTracker = _gat._getTracker('UA-9285763-1');
      pageTracker._setDomainName("superfeedr.com");
      pageTracker._initData();
      pageTracker._trackPageview();
  } catch(err) {}
  //--><!]]>
</script>
</body>
</html>
